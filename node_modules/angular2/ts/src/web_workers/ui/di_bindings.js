System.register(["angular2/src/core/di", 'angular2/src/core/pipes', 'angular2/src/animate/animation_builder', 'angular2/src/animate/browser_details', 'angular2/src/core/reflection/reflection', 'angular2/src/core/change_detection/change_detection', 'angular2/src/core/render/dom/events/event_manager', 'angular2/src/core/linker/proto_view_factory', 'angular2/src/core/dom/browser_adapter', 'angular2/src/core/render/dom/events/key_events', 'angular2/src/core/render/dom/events/hammer_gestures', 'angular2/src/core/linker/view_pool', 'angular2/src/core/render/api', 'angular2/src/core/compiler/app_root_url', 'angular2/src/core/render/render', 'angular2/src/core/application_tokens', 'angular2/src/core/compiler/schema/element_schema_registry', 'angular2/src/core/compiler/schema/dom_element_schema_registry', 'angular2/src/core/render/dom/shared_styles_host', 'angular2/src/core/dom/dom_adapter', 'angular2/src/core/zone/ng_zone', 'angular2/src/core/linker/view_manager', 'angular2/src/core/linker/view_manager_utils', 'angular2/src/core/linker/view_listener', 'angular2/src/core/linker/view_resolver', 'angular2/src/core/linker/directive_resolver', 'angular2/src/core/facade/exceptions', 'angular2/src/core/linker/dynamic_component_loader', 'angular2/src/core/compiler/url_resolver', 'angular2/src/core/testability/testability', 'angular2/src/core/compiler/xhr', 'angular2/src/core/compiler/xhr_impl', 'angular2/src/web_workers/shared/serializer', 'angular2/src/web_workers/shared/api', 'angular2/src/web_workers/shared/render_proto_view_ref_store', 'angular2/src/web_workers/shared/render_view_with_fragments_store', 'angular2/src/core/compiler/anchor_based_app_root_url', 'angular2/src/web_workers/ui/impl', 'angular2/src/web_workers/shared/message_bus', 'angular2/src/web_workers/ui/renderer', 'angular2/src/web_workers/ui/xhr_impl', 'angular2/src/web_workers/ui/setup', 'angular2/src/web_workers/shared/service_message_broker', 'angular2/src/web_workers/shared/client_message_broker'], function(exports_1) {
    var di_1, pipes_1, animation_builder_1, browser_details_1, reflection_1, change_detection_1, event_manager_1, proto_view_factory_1, browser_adapter_1, key_events_1, hammer_gestures_1, view_pool_1, api_1, app_root_url_1, render_1, application_tokens_1, element_schema_registry_1, dom_element_schema_registry_1, shared_styles_host_1, dom_adapter_1, ng_zone_1, view_manager_1, view_manager_utils_1, view_listener_1, view_resolver_1, directive_resolver_1, exceptions_1, dynamic_component_loader_1, url_resolver_1, testability_1, xhr_1, xhr_impl_1, serializer_1, api_2, render_proto_view_ref_store_1, render_view_with_fragments_store_1, anchor_based_app_root_url_1, impl_1, message_bus_1, renderer_1, xhr_impl_2, setup_1, service_message_broker_1, client_message_broker_1;
    var _rootInjector, _rootProviders;
    // TODO: This code is nearly identical to core/application. There should be a way to only write it
    // once
    function _injectorProviders() {
        return [
            di_1.provide(render_1.DOCUMENT, { useValue: dom_adapter_1.DOM.defaultDoc() }),
            event_manager_1.EventManager,
            new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS, { useClass: event_manager_1.DomEventsPlugin, multi: true }),
            new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS, { useClass: key_events_1.KeyEventsPlugin, multi: true }),
            new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS, { useClass: hammer_gestures_1.HammerGesturesPlugin, multi: true }),
            di_1.provide(render_1.DomRenderer, { useClass: render_1.DomRenderer_ }),
            di_1.provide(api_1.Renderer, { useExisting: render_1.DomRenderer }),
            application_tokens_1.APP_ID_RANDOM_PROVIDER,
            shared_styles_host_1.DomSharedStylesHost,
            di_1.provide(shared_styles_host_1.SharedStylesHost, { useExisting: shared_styles_host_1.DomSharedStylesHost }),
            serializer_1.Serializer,
            di_1.provide(api_2.ON_WEB_WORKER, { useValue: false }),
            di_1.provide(element_schema_registry_1.ElementSchemaRegistry, { useValue: new dom_element_schema_registry_1.DomElementSchemaRegistry() }),
            render_view_with_fragments_store_1.RenderViewWithFragmentsStore,
            render_proto_view_ref_store_1.RenderProtoViewRefStore,
            view_pool_1.AppViewPool,
            di_1.provide(view_pool_1.APP_VIEW_POOL_CAPACITY, { useValue: 10000 }),
            di_1.provide(view_manager_1.AppViewManager, { useClass: view_manager_1.AppViewManager_ }),
            view_manager_utils_1.AppViewManagerUtils,
            view_listener_1.AppViewListener,
            proto_view_factory_1.ProtoViewFactory,
            view_resolver_1.ViewResolver,
            pipes_1.DEFAULT_PIPES,
            directive_resolver_1.DirectiveResolver,
            change_detection_1.Parser,
            change_detection_1.Lexer,
            di_1.provide(exceptions_1.ExceptionHandler, { useFactory: () => new exceptions_1.ExceptionHandler(dom_adapter_1.DOM), deps: [] }),
            di_1.provide(xhr_1.XHR, { useValue: new xhr_impl_1.XHRImpl() }),
            url_resolver_1.UrlResolver,
            di_1.provide(dynamic_component_loader_1.DynamicComponentLoader, { useClass: dynamic_component_loader_1.DynamicComponentLoader_ }),
            testability_1.Testability,
            anchor_based_app_root_url_1.AnchorBasedAppRootUrl,
            di_1.provide(app_root_url_1.AppRootUrl, { useExisting: anchor_based_app_root_url_1.AnchorBasedAppRootUrl }),
            impl_1.WebWorkerApplication,
            setup_1.WebWorkerSetup,
            xhr_impl_2.MessageBasedXHRImpl,
            renderer_1.MessageBasedRenderer,
            di_1.provide(service_message_broker_1.ServiceMessageBrokerFactory, { useClass: service_message_broker_1.ServiceMessageBrokerFactory_ }),
            di_1.provide(client_message_broker_1.ClientMessageBrokerFactory, { useClass: client_message_broker_1.ClientMessageBrokerFactory_ }),
            browser_details_1.BrowserDetails,
            animation_builder_1.AnimationBuilder
        ];
    }
    function createInjector(zone, bus) {
        browser_adapter_1.BrowserDomAdapter.makeCurrent();
        _rootProviders.push(di_1.provide(ng_zone_1.NgZone, { useValue: zone }));
        _rootProviders.push(di_1.provide(message_bus_1.MessageBus, { useValue: bus }));
        var injector = di_1.Injector.resolveAndCreate(_rootProviders);
        return injector.resolveAndCreateChild(_injectorProviders());
    }
    exports_1("createInjector", createInjector);
    return {
        setters:[
            function (di_1_1) {
                di_1 = di_1_1;
            },
            function (pipes_1_1) {
                pipes_1 = pipes_1_1;
            },
            function (animation_builder_1_1) {
                animation_builder_1 = animation_builder_1_1;
            },
            function (browser_details_1_1) {
                browser_details_1 = browser_details_1_1;
            },
            function (reflection_1_1) {
                reflection_1 = reflection_1_1;
            },
            function (change_detection_1_1) {
                change_detection_1 = change_detection_1_1;
            },
            function (event_manager_1_1) {
                event_manager_1 = event_manager_1_1;
            },
            function (proto_view_factory_1_1) {
                proto_view_factory_1 = proto_view_factory_1_1;
            },
            function (browser_adapter_1_1) {
                browser_adapter_1 = browser_adapter_1_1;
            },
            function (key_events_1_1) {
                key_events_1 = key_events_1_1;
            },
            function (hammer_gestures_1_1) {
                hammer_gestures_1 = hammer_gestures_1_1;
            },
            function (view_pool_1_1) {
                view_pool_1 = view_pool_1_1;
            },
            function (api_1_1) {
                api_1 = api_1_1;
            },
            function (app_root_url_1_1) {
                app_root_url_1 = app_root_url_1_1;
            },
            function (render_1_1) {
                render_1 = render_1_1;
            },
            function (application_tokens_1_1) {
                application_tokens_1 = application_tokens_1_1;
            },
            function (element_schema_registry_1_1) {
                element_schema_registry_1 = element_schema_registry_1_1;
            },
            function (dom_element_schema_registry_1_1) {
                dom_element_schema_registry_1 = dom_element_schema_registry_1_1;
            },
            function (shared_styles_host_1_1) {
                shared_styles_host_1 = shared_styles_host_1_1;
            },
            function (dom_adapter_1_1) {
                dom_adapter_1 = dom_adapter_1_1;
            },
            function (ng_zone_1_1) {
                ng_zone_1 = ng_zone_1_1;
            },
            function (view_manager_1_1) {
                view_manager_1 = view_manager_1_1;
            },
            function (view_manager_utils_1_1) {
                view_manager_utils_1 = view_manager_utils_1_1;
            },
            function (view_listener_1_1) {
                view_listener_1 = view_listener_1_1;
            },
            function (view_resolver_1_1) {
                view_resolver_1 = view_resolver_1_1;
            },
            function (directive_resolver_1_1) {
                directive_resolver_1 = directive_resolver_1_1;
            },
            function (exceptions_1_1) {
                exceptions_1 = exceptions_1_1;
            },
            function (dynamic_component_loader_1_1) {
                dynamic_component_loader_1 = dynamic_component_loader_1_1;
            },
            function (url_resolver_1_1) {
                url_resolver_1 = url_resolver_1_1;
            },
            function (testability_1_1) {
                testability_1 = testability_1_1;
            },
            function (xhr_1_1) {
                xhr_1 = xhr_1_1;
            },
            function (xhr_impl_1_1) {
                xhr_impl_1 = xhr_impl_1_1;
            },
            function (serializer_1_1) {
                serializer_1 = serializer_1_1;
            },
            function (api_2_1) {
                api_2 = api_2_1;
            },
            function (render_proto_view_ref_store_1_1) {
                render_proto_view_ref_store_1 = render_proto_view_ref_store_1_1;
            },
            function (render_view_with_fragments_store_1_1) {
                render_view_with_fragments_store_1 = render_view_with_fragments_store_1_1;
            },
            function (anchor_based_app_root_url_1_1) {
                anchor_based_app_root_url_1 = anchor_based_app_root_url_1_1;
            },
            function (impl_1_1) {
                impl_1 = impl_1_1;
            },
            function (message_bus_1_1) {
                message_bus_1 = message_bus_1_1;
            },
            function (renderer_1_1) {
                renderer_1 = renderer_1_1;
            },
            function (xhr_impl_2_1) {
                xhr_impl_2 = xhr_impl_2_1;
            },
            function (setup_1_1) {
                setup_1 = setup_1_1;
            },
            function (service_message_broker_1_1) {
                service_message_broker_1 = service_message_broker_1_1;
            },
            function (client_message_broker_1_1) {
                client_message_broker_1 = client_message_broker_1_1;
            }],
        execute: function() {
            var _rootInjector;
            // Contains everything that is safe to share between applications.
            var _rootProviders = [di_1.provide(reflection_1.Reflector, { useValue: reflection_1.reflector })];
        }
    }
});
//# sourceMappingURL=di_bindings.js.map